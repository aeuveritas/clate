#Install NeoVim
RUN apk add --update --no-cache \
    libx11-dev \
    libxpm-dev \
    libxt-dev \
    python3 \
    python3-dev \
    nodejs \
    npm \
    gperf \
    texinfo \
    cmake \
    linux-headers \
    lua-dev \
    perl-dev \
    py3-pip \
    xz \
    luarocks \
    diffutils \
    libice \
    libsm
RUN echo http://dl-cdn.alpinelinux.org/alpine/edge/community >> /etc/apk/repositories
RUN apk add --update --no-cache neovim==0.3.1-r1 neovim-doc==0.3.1-r1 neovim-lang==0.3.1-r1

# Install neovim python support
RUN pip3 install pynvim pep8 clang

RUN npm install -g neovim

# Environment for NeoVim
ENV PLUGIN=$HOME/.config/nvim/plugin \
    AUTOLOAD=$HOME/.config/nvim/autoload

RUN mkdir -p $PLUGIN \
    && chown $UNAME:$GROUP $HOME -R

